{\rtf1\ansi\ansicpg1252\deff0\deflang1033{\fonttbl{\f0\fswiss\fcharset0 Arial;}{\f1\froman\fcharset0 Times New Roman;}{\f2\fmodern\fcharset0 Courier New;}}
{\colortbl ;\red212\green175\blue55;\red184\green134\blue11;\red0\green0\blue0;\red0\green102\blue204;\red34\green139\blue34;\red150\green0\blue0;}
\paperw11906\paperh16838\margl1800\margr1800\margt1800\margb1800
\viewkind4\uc1

\pard\qc\sb400\sa200\b\f0\fs44\cf1 SISTEMA INTEGRAL DE GESTI\'D3N EMPRESARIAL\par
\fs40 "DESTELLO DE ORO 18K"\par
\fs32\cf2 PLATAFORMA WEB DE CONTROL DE INVENTARIO,\par
VENTAS, GARANT\'CDAS Y AN\'C1LISIS FINANCIERO\par
\par\par
\fs28\cf3 INFORME FINAL DE PR\'C1CTICA PROFESIONAL\par
MODALIDAD: EMPRENDIMIENTO TECNOL\'D3GICO\par
\par\par\par
\fs24\b0 PRESENTADO POR:\par
\b [NOMBRE COMPLETO DEL PRACTICANTE]\par
\b0\par
C\'D3DIGO ESTUDIANTIL: [C\'D3DIGO]\par
PROGRAMA ACAD\'C9MICO: [NOMBRE DEL PROGRAMA]\par
\par\par
\b INSTITUCI\'D3N EDUCATIVA:\par
\b0 [NOMBRE COMPLETO DE LA INSTITUCI\'D3N]\par
[FACULTAD O DEPARTAMENTO]\par
\par\par
\b ASESOR EMPRESARIAL:\par
\b0 [NOMBRE DEL ASESOR]\par
\par\par
\par\par
\fs22\cf4 Ciudad, 20 de Febrero de 2026\par

\page

\pard\qc\sb400\sa200\b\f0\fs36\cf1 CONTRAPORTADA\par
\par
\fs28\cf3 SISTEMA DE GESTI\'D3N "DESTELLO DE ORO 18K"\par
\par
\fs24\b0
Este documento es presentado como requisito parcial para la aprobaci\'f3n de la \b Pr\'e1ctica Profesional\b0 en la modalidad de \b Emprendimiento Tecnol\'f3gico\b0, correspondiente al programa acad\'e9mico de\b  [NOMBRE DEL PROGRAMA].\par
\par\par
\pard\ql\fs22\cf3
El presente trabajo fue desarrollado en el marco de un emprendimiento real constituido bajo el nombre "Destello de Oro 18K", dedicado a la \b comercializaci\'f3n de joyer\'eda y accesorios de lujo en oro de 18 quilates\b0. La soluci\'f3n tecnol\'f3gica presentada fue concebida, dise\'f1ada y programada por el practicante como respuesta directa a las necesidades operativas y financieras del negocio.\par
\par
\par
\b\fs24 TUTORES Y EVALUADORES:\par
\par
\b0\fs22
Director de Trabajo: ______________________________________\par\par
Asesor T\'e9cnico: ____________________________________________\par\par
Evaluador: ________________________________________________\par
\par\par\par
\b\fs24 DECLARACI\'D3N DE AUTOR\'CDA:\par
\b0\fs22\par
Yo, [NOMBRE DEL PRACTICANTE], declaro que el presente informe y el software adjunto son de mi autor\'eda original, y que toda referencia a trabajos o ideas de otros autores est\'e1 debidamente citada.\par
\par
Firma: ____________________________\par

\page

\pard\qc\sb200\sa200\b\f0\fs36\cf1 TABLA DE CONTENIDO\par
\par
\pard\ql\fs22\cf3\b0

\b 1. INTRODUCCI\'D3N ......................................................................................................... P\'e1g. 4\par
2. JUSTIFICACI\'D3N DEL PROYECTO ........................................................................ P\'e1g. 5\par
3. OBJETIVOS ................................................................................................................ P\'e1g. 6\par
\tab 3.1. Objetivo General\par
\tab 3.2. Objetivos Espec\'edficos\par
4. PLANTEAMIENTO DEL PROBLEMA .................................................................... P\'e1g. 7\par
5. MARCO TE\'D3RICO Y CONCEPTUAL ................................................................... P\'e1g. 8\par
\tab 5.1. Definici\'f3n de SPA (Single Page Application)\par
\tab 5.2. Arquitectura Cliente-Servidor\par
\tab 5.3. PHP y sus Ventajas\par
\tab 5.4. Bases de Datos Relacionales y MySQL\par
\tab 5.5. Principios de Seguridad Web\par
6. ARQUITECTURA DEL SISTEMA ........................................................................... P\'e1g. 10\par
7. DESCRIPCI\'D3N DETALLADA DE ARCHIVOS .................................................... P\'e1g. 11\par
\tab 7.1. index.php - El N\'facleo del Sistema\par
\tab 7.2. Capa de Estilos (CSS)\par
\tab 7.3. Capa de Interfaz (HTML)\par
\tab 7.4. Capa L\'f3gica (JavaScript)\par
\tab 7.5. Funciones Cr\'edticas por N\'famero de L\'ednea\par
8. MICROSERVICIOS BACKEND (API) ...................................................................... P\'e1g. 14\par
\tab 8.1. api/sales.php\par
\tab 8.2. api/warranties.php\par
\tab 8.3. api/products.php\par
\tab 8.4. api/expenses.php\par
\tab 8.5. api/pending_sales.php\par
\tab 8.6. api/login.php y logout.php\par
9. BASE DE DATOS: DISE\'d1O Y ESTRUCTURA ...................................................... P\'e1g. 17\par
10. FUNCIONALIDADES IMPLEMENTADAS ........................................................... P\'e1g. 18\par
11. IMPACTO DEL PROYECTO EN EL EMPRENDIMIENTO ................................ P\'e1g. 19\par
12. CONCLUSIONES Y RECOMENDACIONES ....................................................... P\'e1g. 20\par
\b0\par

\page

\pard\ql\sb200\sa200\b\f0\fs32\cf1 1. INTRODUCCI\'D3N\par
\pard\ql\sb100\sa200\fs22\cf3\b0

En el mundo contempor\'e1neo, la digitalizaci\'f3n no es una opci\'f3n: es una necesidad de supervivencia empresarial. Los emprendimientos que no adoptan herramientas tecnol\'f3gicas para la gesti\'f3n de sus operaciones corren el riesgo de quedar rezagados frente a competidores que s\'ed explotan el poder de los datos y la automatizaci\'f3n. En este contexto, el proyecto presentado responde a una problem\'e1tica real, identificada en el ejercicio de la pr\'e1ctica profesional: la \b gesti\'f3n ineficiente de inventario y finanzas\b0 en el emprendimiento joyero "Destello de Oro 18K".\par

Cuando el practicante se incorpor\'f3 al emprendimiento, la operaci\'f3n se realizaba mediante registros manuales en cuadernos f\'edsicos y hojas de c\'e1lculo desconectadas. Esto generaba inconsistencias en el conteo de inventario, falta de claridad en los m\'e1rgenes de ganancia y ausencia total de un sistema de garant\'edas post-venta. La soluci\'f3n propuesta es una \b Plataforma Web Full-Stack\b0 diseñada espec\'edficamente para las necesidades del negocio.\par

El sistema "Destello de Oro 18K" no es un software gen\'e9rico. Cada m\'f3dulo fue construido teniendo en cuenta la l\'f3gica de negocio \'fanica de la joyer\'eda: la diferenciaci\'f3n de precios por canal (mayorista vs. detal), los costos de garant\'edas por defecto de f\'e1brica, los fletes para env\'edos a domicilio o nacionales y la necesidad de visualizaci\'f3n financiera en tiempo real sin necesidad de contratar un contador permanente.\par

El resultado final es un sistema de m\'e1s de \b 10,700 l\'edneas de c\'f3digo\b0 distribuidas en una arquitectura de tres capas: presentaci\'f3n (Front-End), l\'f3gica de negocio (Back-End en PHP) y persistencia de datos (MySQL). Este sistema ha sido probado en un entorno de producci\'f3n real y ha demostrado reducir significativamente el tiempo de atenci\'f3n al cliente y mejorar la precisi\'f3n de los reportes financieros.\par

\page

\pard\ql\sb200\sa200\b\f0\fs32\cf1 2. JUSTIFICACI\'D3N DEL PROYECTO\par
\pard\ql\sb100\sa200\fs22\cf3\b0

La justificaci\'f3n de un proyecto de software empresarial debe responder tres preguntas fundamentales: \b \'bfPor qu\'e9 es necesario?, \'bfPor qu\'e9 ahora?, y \'bfPor qu\'e9 esta soluci\'f3n?\b0 A continuaci\'f3n se profundiza en cada una.\par

\b 2.1 Por qu\'e9 Es Necesario:\par
\b0
"Destello de Oro 18K" comercializa joyer\'eda de alta gama, un sector donde los m\'e1rgenes de error en el manejo de costos pueden resultar en p\'e9rdidas significativas. Una joya en oro de 18 quilates tiene un costo variable ligado al precio del gramo de oro en el mercado internacional. Si el administrador no tiene claridad sobre el precio de compra de cada pieza y el precio al que fue vendida, es imposible calcular la rentabilidad real de cada operaci\'f3n. El sistema implementa una base de datos de productos con \b precio de compra\b0 y \b precio de venta diferenciado\b0, permitiendo generar autom\'e1ticamente el margen de utilidad de cada transacci\'f3n.\par

\b 2.2 Por qu\'e9 Ahora:\par
\b0
El mercado de la joyer\'eda ha evolucionado. Una proporci\'f3n creciente de clientes realiza pedidos \b por redes sociales\b0 y exige domicilio a nivel nacional. Esto introduce variables log\'edsticas (costos de env\'edo, seguimiento de pedidos pendientes) que un cuaderno f\'edsico no puede manejar con eficiencia. El sistema "Destello de Oro 18K" incorpora un m\'f3dulo de ventas a domicilio y pedidos pendientes dise\'f1ado espec\'edficamente para este nuevo canal de distribuci\'f3n.\par

\b 2.3 Por qu\'e9 Esta Soluci\'f3n:\par
\b0
Se opt\'f3 por el desarrollo de una soluci\'f3n propia versus el uso de software comercial gen\'e9rico por tres razones: \b Costo\b0 (los sistemas ERP comerciales tienen licencias costosas que un emprendimiento no puede sostener), \b Adaptabilidad\b0 (el sistema propio se ajusta exactamente a la l\'f3gica de "Destello de Oro 18K", incluyendo el c\'e1lculo del incremento de garant\'eda como ingreso) y \b Propiedad Intelectual\b0 (el emprendedor es due\'f1o del software y puede modificarlo o escalar sin depender de proveedores externos).\par

\page

\pard\ql\sb200\sa200\b\f0\fs32\cf1 3. OBJETIVOS DEL PROYECTO\par
\pard\ql\sb100\sa200\fs22\cf3\b0

\b 3.1. Objetivo General:\par
\b0
Desarrollar e implementar un sistema web de gesti\'f3n integral para el emprendimiento "Destello de Oro 18K" que automatice el control de inventario, el proceso de ventas, el seguimiento de garant\'edas y la generaci\'f3n de reportes financieros en tiempo real, reduciendo los errores operativos y mejorando la toma de decisiones del administrador.\par

\b 3.2. Objetivos Espec\'edficos:\par\b0
1. Dise\'f1ar e implementar una base de datos relacional que soporte el cat\'e1logo de productos de joyer\'eda con sus respectivos precios de compra y venta diferenciados por canal comercial.\par
2. Desarrollar un m\'f3dulo de punto de venta (POS) que permita procesar transacciones de forma r\'e1pida, soporte m\'faltiples m\'e9todos de pago y genere facturas digitales de manera autom\'e1tica.\par
3. Implementar un m\'f3dulo de garant\'edas que registre reclamaciones, su estado de resoluci\'f3n y el impacto financiero de cada garant\'eda en la contabilidad del negocio.\par
4. Construir un panel de control financiero que calcule autom\'e1ticamente la utilidad neta mensual, descontando el Costo de Productos Vendidos (CPV), los gastos administrativos y los costos log\'edsticos.\par
5. Garantizar la seguridad del sistema mediante la implementaci\'f3n de un sistema de roles de usuario que diferencie los permisos entre el administrador y los trabajadores.\par

\page

\pard\ql\sb200\sa200\b\f0\fs32\cf1 4. PLANTEAMIENTO DEL PROBLEMA\par
\pard\ql\sb100\sa200\fs22\cf3\b0

Antes de la implementaci\'f3n del sistema, "Destello de Oro 18K" enfrentaba los siguientes problemas operativos documentados:\par

\b Problema 1 - Inconsistencias en el Inventario:\par\b0
No exist\'eda una forma conf\'ediable de saber cu\'e1ntas piezas de un tipo espec\'edfico de joya hab\'eda disponibles. Los vendedores deb\'edan ir f\'edsicamente a revisar las vitrinas, lo que ralentizaba el proceso de atenci\'f3n al cliente y generaba ventas de productos que en realidad no estaban en stock.\par

\b Problema 2 - Ausencia de Control Financiero Preciso:\par\b0
El c\'e1lculo de ganancias se realizaba restando informalmente el total de compras al total de ventas del mes. Este m\'e9todo ignoraba los costos de env\'edo asumidos por el negocio (fletes de garant\'edas, envíos gratis por ventas mayores a 250.000), los descuentos otorgados y el costo individual por pieza (CPV real), lo que resultaba en una percepci\'f3n err\'f3nea de la rentabilidad.\par

\b Problema 3 - Gesti\'f3n de Garant\'edas sin Trazabilidad:\par\b0
Cuando un cliente regresaba con una joya por garant\'eda (rayaduras, oxidaci\'f3n, cambios de color), no hab\'eda un registro formal del caso. Esto imped\'eda analizar patrones de defecto en ciertos proveedores y calculcar cu\'e1nto dinero estaba perdiendo el negocio en garant\'edas cada mes.\par

\b Problema 4 - Facturaci\'f3n Manual Poco Profesional:\par\b0
Las facturas eran notas escritas a mano o recibos gen\'e9ricos. Esto da\'f1aba la imagen premium de la marca y no permit\'eda al cliente tener un respaldo digital de su compra, algo cada vez m\'e1s esperado por los consumidores modernos.\par

\b Problema 5 - Ausencia de Control de Acceso:\par\b0
Cualquier empleado pod\'eda ver o modificar cualquier dato del negocio, incluyendo costos de compra y m\'e1rgenes de ganancia, informaci\'f3n que debe ser confidencial y solo accesible al administrador.\par

\page

\pard\ql\sb200\sa200\b\f0\fs32\cf1 5. MARCO TE\'D3RICO Y CONCEPTUAL\par
\pard\ql\sb100\sa200\fs22\cf3\b0

A continuaci\'f3n se definen los conceptos t\'e9cnicos fundamentales que sustentan el desarrollo del proyecto:\par

\b 5.1. Single Page Application (SPA) - Aplicaci\'f3n de P\'e1gina \'danica:\par\b0
Una SPA es un paradigma de desarrollo web en el cual la aplicaci\'f3n carga una \'fanica p\'e1gina HTML completa y actualiza din\'e1micamente el contenido seg\'fan las acciones del usuario, sin necesidad de recargar el navegador. Esto contrasta con el modelo web tradicional donde cada clic provoca una nueva solicitud completa al servidor.\par
La ventaja principal de este modelo es la \b velocidad de respuesta\b0: el usuario experimenta una aplicaci\'f3n que se siente instant\'e1nea, similar a un programa instalado localmente. En el contexto de "Destello de Oro 18K", cuando un vendedor agrega un producto al carrito o el administrador cambia de la vista de inventario a la de historial, la transici\'f3n ocurre en milisegundos sin parpadeos ni cargas, lo que mejora considerablemente la productividad durante la jornada laboral.\par

\b 5.2. Arquitectura Cliente-Servidor:\par\b0
Es el modelo computacional en el cual dos entes (el cliente y el servidor) se comunican a trav\'e9s de una red. En este proyecto, el \b cliente\b0 es el navegador web del computador en el local de joyer\'eda, y el \b servidor\b0 es el servidor de hospedaje donde reside el c\'f3digo PHP y la base de datos MySQL.\par
La comunicaci\'f3n entre ambos se realiza mediante el protocolo \b HTTP/HTTPS\b0, usando el est\'e1ndar \b RESTful\b0 (Representational State Transfer), lo que significa que cada operaci\'f3n (consultar inventario, registrar una venta, procesar una garant\'eda) tiene su propia URL (endpoint) y m\'e9todo (GET para consultar, POST para crear, PUT para editar).\par

\b 5.3. PHP (Hypertext Preprocessor) 8.x y su Importancia:\par\b0
PHP es un lenguaje de programaci\'f3n de c\'f3digo abierto ampliamente utilizado en el desarrollo web del lado del servidor. La versi\'f3n 8.x, utilizada en este proyecto, introduce mejoras significativas de rendimiento gracias al \b JIT Compiler (Just In Time)\b0, que permite que el c\'f3digo PHP sea compilado antes de su ejecuci\'f3n, agilizando el proceso de respuesta del servidor.\par
PHP fue elegido para este proyecto por su \b f\'e1cil integraci\'f3n con MySQL\b0, su amplia documentaci\'f3n, la disponibilidad de librer\'eda como \b PHPMailer\b0 (utilizada en el m\'f3dulo de recuperaci\'f3n de contrase\'f1a) y su compatibilidad universal con los servidores de hospedaje econ\'f3micos accesibles para un emprendimiento.\par

\b 5.4. Bases de Datos Relacionales y MySQL:\par\b0
Una base de datos es un sistema organizado de almacenamiento de informaci\'f3n. El modelo \b relacional\b0 organiza los datos en tablas (similares a hojas de c\'e1lculo), donde cada fila es un registro \'fanico y cada columna es un atributo. Las tablas se relacionan entre s\'ed mediante \b llaves for\'e1neas (Foreign Keys)\b0, lo que garantiza la integridad referencial: por ejemplo, no se puede tener un "\'edtem de venta" que haga referencia a una venta que no existe.\par
MySQL es el motor de base de datos relacional m\'e1s utilizado del mundo. Para este proyecto se implement\'f3 un esquema en \b Tercera Forma Normal (3NF)\b0, que es el est\'e1ndar de dise\'f1o que elimina la redundancia de datos y garantiza que una actualizaci\'f3n en un lugar se refleje autom\'e1ticamente en toda la base. Esto es cr\'edtico para el inventario: si el precio de un producto cambia, el cambio se aplica desde un \'fanico lugar.\par

\b 5.5. PDO (PHP Data Objects) y Seguridad:\par\b0
PDO es una extensi\'f3n de PHP que proporciona una interfaz estandarizada y segura para acceder a bases de datos. Su caracter\'edstica m\'e1s importante en materia de seguridad son las \b sentencias preparadas (Prepared Statements)\b0. Cuando la aplicaci\'f3n recibe datos del usuario (como un nombre de cliente o un precio), en lugar de insertarlos directamente en la consulta SQL (pr\'e1ctica vulnerable a \b inyecci\'f3n SQL\b0), primero define la estructura de la consulta y luego pasa los datos como par\'e1metros separados. Esto hace imposible que un atacante modifique la l\'f3gica de la consulta.\par

\b 5.6. JavaScript ES6+ y AJAX/Fetch API:\par\b0
ES6 (ECMAScript 2015) es la versi\'f3n moderna de JavaScript que introduce caracter\'edsticas de programaci\'f3n avanzada como \b Promises\b0 (para operaciones as\'edncronas), \b Arrow Functions\b0 (sintaxis compacta) y \b Template Literals\b0 (generaci\'f3n din\'e1mica de HTML). En este proyecto, la \b Fetch API\b0 reemplaza al tradicional XMLHttpRequest para realizar comunicaci\'f3n as\'edncrona con los endpoints PHP, permitiendo que la pgina consulte el servidor en segundo plano sin interrumpir al usuario.\par

\page

\pard\ql\sb200\sa200\b\f0\fs32\cf1 6. ARQUITECTURA DEL SISTEMA\par
\pard\ql\sb100\sa200\fs22\cf3\b0

El sistema sigue una arquitectura de \b tres capas\b0, claramente separadas en el c\'f3digo:\par
\b Capa 1 - Presentaci\'f3n (index.php: CSS y HTML):\b0 Responsable de todo lo visual. No contiene l\'f3gica de negocio.\par
\b Capa 2 - L\'f3gica de Negocio (index.php: JavaScript + /api/*.php):\b0 Procesa las reglas del negocio: c\'e1lculo de precios, validaciones, l\'f3gica financiera.\par
\b Capa 3 - Datos (MySQL + config/db.php):\b0 Almacenamiento y recuperaci\'f3n de informaci\'f3n de forma persistente.\par

La comunicaci\'f3n entre capas 1 y 2 ocurre en el navegador (JavaScript). La comunicaci\'f3n entre capas 2 y 3 ocurre en el servidor (PHP llama a MySQL). Entre capa 1 y 3 nunca hay comunicaci\'f3n directa, lo que garantiza la seguridad del sistema.\par

\page

\pard\ql\sb200\sa200\b\f0\fs32\cf1 7. DESCRIPCI\'D3N DETALLADA DEL ARCHIVO PRINCIPAL: index.php\par
\pard\ql\sb100\sa200\fs22\cf3\b0

Con m\'e1s de 10,700 l\'edneas de c\'f3digo, index.php es el componente m\'e1s complejo y el coraz\'f3n del sistema. A continuaci\'f3n se detalla cada secci\'f3n:\par

\b 7.1. Sistema de Dise\'f1o (L\'edneas 22 - 100): Variables CSS (Design Tokens)\par\b0
Las primeras l\'edneas del bloque de estilos definen lo que en la industria se conoce como "Design Tokens" o variables de dise\'f1o. En este archivo se declaran mediante la pseudoclase \f2 :root\f0, que permite que cada color, sombra o radio de borde se defina una sola vez y se reutilice en todo el sistema. Si ma\'f1ana el negocio decide cambiar su color corporativo del dorado actual (\f2 #D4AF37\f0 ) a otro tono, basta con cambiar una sola l\'ednea y el cambio se propaga en toda la interfaz.\par

\b 7.2. Animaciones y Efectos Visuales Premium (L\'edneas 389 - 500):\par\b0
Se implementaron animaciones CSS avanzadas que aprovechan la aceleraci\'f3n de hardware del dispositivo. La t\'e9cnica utilizada es animar exclusivamente propiedades que el navegador puede delegar a la GPU (\b transform\b0 y \b opacity\b0 ), en lugar de propiedades que fuerzan el navegador a recalcular el layout de la p\'e1gina (\b width\b0, \b top\b0 ), garantizando 60 fotogramas por segundo.\par

\b 7.3. Animaci\'f3n del Avi\'f3n Publicitario (L\'edneas 1,901 - 1,970):\par\b0
Se implement\'f3 una animaci\'f3n SVG de un avi\'f3n realista con h\'e9lice giratoria y una pancarta publicitaria con el nombre de la marca. El avi\'f3n cruza la pantalla cada 40 segundos, con una primera aparici\'f3n 5 segundos despu\'e9s de iniciar la sesi\'f3n. La funci\'f3n JavaScript \f2 triggerAirplaneAnimation()\f0 gestiona el ciclo de vida de la animaci\'f3n. Esta funcionalidad sirve como \b publicidad pasiva e inmersiva\b0 dentro de la propia plataforma.\par

\b 7.4. Sistema de Login Multi-Paso (L\'edneas 2,200 - 2,350):\par\b0
El login implementa un flujo de tres pasos: selecci\'f3n de rol (Administrador o Trabajador), formulario de datos personales y formulario de credenciales. La selecci\'f3n de rol desencadena autom\'e1ticamente la transici\'f3n al siguiente paso, sin necesidad de botones intermedios. Toda la informaci\'f3n ingresada en el paso de datos personales se guarda en \f2 sessionStorage\f0 para pre-rellenar el formulario si el usuario navega hacia atr\'e1s, mejorando la experiencia de uso.\par

\b 7.5. M\'f3dulo de Inventario (L\'edneas 3,550 - 4,000):\par\b0
La tabla de inventario se carga mediante una petici\'f3n as\'edncrona al endpoint \f2 api/products.php\f0. Cada fila de la tabla se genera din\'e1micamente y aplica un c\'f3digo de color basado en las existencias: \b rojo\b0 para stock cr\'edtico (menos de 3 unidades), \b amarillo\b0 para stock bajo (menos de 10) y \b verde\b0 para stock saludable. El administrador puede agregar, editar y eliminar productos desde esta misma vista.\par

\b 7.6. Motor de Ventas - addToCart() (L\'edneas 4,004 - 4,058):\par\b0
La funci\'f3n \f2 addToCart()\f0 es el primer eslab\'f3n del proceso de venta. Al llamarla, realiza las siguientes validaciones secuenciales: 1) Verifica que el producto exista en el sistema, 2) Confirma que haya stock disponible (stock > 0), 3) Determina si el tipo de venta es mayorista o detal y asigna el precio correspondiente, 4) A\'f1ade el producto al array del carrito en memoria y 5) Llama a \f2 renderCart()\f0 para actualizar la interfaz. Este proceso ocurre en menos de un milisegundo.\par

\b 7.7. Transacci\'f3n de Venta - processCompleteSale() (L\'edneas 4,070 - 4,196):\par\b0
Esta es la funci\'f3n m\'e1s cr\'edtica del sistema. Su flujo es:\par
\f2 1. Valida que el carrito no est\'e9 vac\'edo.\par
2. Verifica que el m\'e9todo de pago haya sido seleccionado.\par
3. Si el pago es "mixto" (efectivo + otro m\'e9todo), valida que ambos montos sumen el total.\par
4. Si la venta es a domicilio (>250,000), registra el costo del flete como gasto operativo.\par
5. Realiza la petici\'f3n POST al endpoint api/sales.php con todos los datos.\par
6. Si el servidor responde con \'e9xito, limpia el carrito y activa triggerGoldSparkles().\par
7. Si hay error, muestra un modal de error con el mensaje del servidor.\f0\par

\b 7.8. Resumen Financiero Mensual - loadMonthlySummary() (L\'edneas 5,593 - 5,676):\par\b0
Esta funci\'f3n es la herramienta de Business Intelligence del administrador. Realiza 4 peticiones simult\'e1neas al servidor (usando \f2 Promise.all\f0 ) para obtener ventas, gastos, surtidos y garant\'edas del mes seleccionado. Luego calcula:\par
\f2 Ganancia Real = Total Ventas - Total Gastos - Costo de Productos Vendidos - Costos de Env\'edo\f0\par
Este resultado se muestra en el panel principal con un indicador de color verde (ganancia) o rojo (p\'e9rdida).\par

\b 7.9. Tarjetas de Historial - createProfitHistoryCard() (L\'edneas 4,478 - 4,660):\par\b0
El historial de ganancias desglosa la rentabilidad entre ventas al \b Detal\b0 (clientes individuales) y ventas \b Mayoristas\b0 (compradores en cantidad). Para cada canal, calcula el margen restando el costo de lo vendido (CPV). Esto le permite al due\'f1o del negocio identificar cu\'e1l canal es m\'e1s rentable y enfocar sus esfuerzos estrat\'e9gicamente.\par

\b 7.10. Generador de Facturas - showInvoice() (L\'edneas 9,457 - 9,531):\par\b0
La factura digital se genera completamente en el navegador sin necesidad de una librer\'eda externa para PDF. El documento incluye datos del cliente, tabla de productos con precios unitarios y subtotales, m\'e9todo de pago, costos de env\'edo o incrementos de garant\'eda y el total final. El componente de impresi\'f3n utiliza la funci\'f3n \f2 window.print()\f0 del navegador con estilos CSS espec\'edficos para el papel que ocultan los botones y muestran solo el contenido de la factura.\par

\page

\pard\ql\sb200\sa200\b\f0\fs32\cf1 8. MICROSERVICIOS BACKEND: DIRECTORIO /api\par
\pard\ql\sb100\sa200\fs22\cf3\b0

Cada archivo PHP en el directorio \f2 /api\f0 constituye un microservicio independiente. Recibe una petici\'f3n HTTP, la procesa y devuelve una respuesta en formato JSON. Este dise\'f1o desacoplado facilita el mantenimiento y la escalabilidad.\par

\b 8.1. config/db.php - El Conector de Base de Datos:\par\b0
Este archivo contiene la configuraci\'f3n de la conexi\'f3n a la base de datos y es incluido por todos los dem\'e1s scripts PHP. Implementa el patr\'f3n \b Singleton\b0 a trav\'e9s del uso del driver PDO, garantizando que solo exista una conexi\'f3n activa a la base de datos a la vez. Los par\'e1metros de conexi\'f3n (host, usuario, contrase\'f1a, nombre de base de datos) se centralizan aqu\'ed, facilitando los cambios de ambiente (desarrollo a producci\'f3n) sin modificar el c\'f3digo de negocio.\par

\b 8.2. api/login.php - El Guardaespaldas del Sistema:\par\b0
Este microservicio es el primer punto de contacto de cada usuario. Al recibir las credenciales (usuario y contrase\'f1a), realiza las siguientes operaciones: 1) Busca el usuario en la base de datos por nombre de usuario, 2) Verifica la contrase\'f1a usando \f2 password_verify()\f0 de PHP, que compara el texto plano contra el hash almacenado (NEVER se guarda la contrase\'f1a en texto plano), 3) Si las credenciales son v\'e1lidas, inicia una sesi\'f3n PHP segura y almacena en ella el rol y el nombre del usuario, 4) Devuelve al cliente los datos de sesi\'f3n en formato JSON para que el JavaScript los use para personalizar la interfaz.\par

\b 8.3. api/sales.php - El Motor Contable:\par\b0
Este es el microservicio m\'e1s complejo del backend. Gestiona el ciclo de vida completo de una venta mediante los m\'e9todos HTTP:\par
\b GET:\b0 Consulta y filtra el hist\'f3rico de ventas por mes y a\'f1o.\par
\b POST:\b0 Registra una nueva venta. El proceso interno es transaccional: a) Inserta el encabezado de la venta en la tabla \f2 sales\f0, b) Itera sobre cada producto y lo inserta en \f2 sale_items\f0, c) Reduce el stock en la tabla \f2 products\f0, d) Si la venta incluye env\'edo gratis, registra ese costo en la tabla \f2 expenses\f0 autom\'e1ticamente. Todo esto ocurre dentro de una \b transacci\'f3n SQL\b0 (\f2 BEGIN / COMMIT\f0 ), lo que garantiza que si alguno de estos pasos falla, ninguno se aplica (integridad at\'f3mica).\par
\b PUT:\b0 Permite actualizar datos de una venta existente (administrador).\par
\b DELETE:\b0 Elimina una venta y revierte el stock de los productos vendidos.\par

\b 8.4. api/products.php - El Almac\'e9n Digital:\par\b0
Gestiona el cat\'e1logo de joyer\'eda. Cada producto almacena: nombre, referencia, precio de compra (confidencial, visible solo para admin), precio de venta al detal, precio de venta mayorista, cantidad en stock, y categor\'eda. La diferenciaci\'f3n entre precio de compra y precio de venta es la base del c\'e1lculo del CPV. Este microservicio, en su m\'e9todo GET, devuelve los precios de compra solo si la sesi\'f3n activa tiene rol de administrador, protegiendo la informaci\'f3n de m\'e1rgenes de los trabajadores.\par

\b 8.5. api/warranties.php - El Controlador Post-Venta:\par\b0
La garant\'eda es una de las caracter\'edsticas m\'e1s sofisticadas del sistema. Un proceso de garant\'eda implica: el cliente regresa con un producto defectuoso, el negocio lo intercambia por otro (el mismo u otro de mayor o menor valor). El microservicio gestiona este flujo calculando: si el nuevo producto cuesta m\'e1s, hay un \b valor adicional\b0 a cobrar al cliente; si el negocio asume el costo del env\'edo, ese valor se registra como gasto operativo (\b shipping_value\b0 ). El historial de garant\'edas permite al administrador detectar patrones de defecto en proveedores espec\'edficos.\par

\b 8.6. api/expenses.php - El Controlador de Egresos:\par\b0
Todo negocio tiene gastos que no corresponden directamente a la compra de productos: servicios p\'fablicos, empaque, transporte, publicidad. Este microservicio permite al administrador registrar estos gastos con descripci\'f3n, monto y fecha. Son estos registros los que se descuentan en el c\'e1lculo de la Ganancia Real mensual. La separaci\'f3n de gastos en su propia tabla (y no mezclados con ventas o compras) es una pr\'e1ctica de contabilidad biol\'f3gica que facilita la generaci\'f3n de reportes fiscales.\par

\b 8.7. api/pending_sales.php - Gesti\'f3n de Cr\'e9dito:\par\b0
No todas las ventas se pagan al 100% en el momento. Este microservicio gestiona los pedidos que tienen saldo pendiente. Un vendedor puede registrar una venta "a cr\'e9dito" o "contra entrega" que queda en estado "pendiente" y no impacta el flujo de caja real hasta que el administrador la confirma. Esto es fundamental para el canal de ventas a domicilio y ventas por redes sociales, donde el pago puede llegar d\'edas despu\'e9s del pedido.\par

\b 8.8. api/forgot_password.php y reset_password.php - Seguridad de Cuentas:\par\b0
Implementan el flujo est\'e1ndar de recuperaci\'f3n de contrase\'f1a. Al solicitar un restablecimiento, el sistema genera un \b token \'fanico\b0 (una cadena aleatoria y segura criptogr\'e1ficamente), lo almacena en la base de datos junto con una fecha de expiraci\'f3n y env\'eda un correo electr\'f3nico al usuario (usando la librer\'eda PHPMailer) con un enlace que contiene ese token. Cuando el usuario hace clic en el enlace, \f2 reset_password.php\f0 valida que el token sea v\'e1lido y no haya expirado, y permite el cambio de contrase\'f1a.\par

\page

\pard\ql\sb200\sa200\b\f0\fs32\cf1 9. ESTRUCTURA DE LA BASE DE DATOS: setup.sql\par
\pard\ql\sb100\sa200\fs22\cf3\b0

El archivo \f2 setup.sql\f0 es el blueprint (plano) de la base de datos. Contiene las instrucciones SQL (DDL - Data Definition Language) para crear todas las tablas del sistema. A continuaci\'f3n se describe cada una:\par

\b Tabla: users\par\b0
Almacena los datos de acceso y perfil de administradores y trabajadores. Columnas clave: \f2 id\f0, \f2 username\f0, \f2 password_hash\f0 (la contrase\'f1a NUNCA se guarda en texto plano, solo su hash BCrypt), \f2 role\f0 ('admin' o 'worker'), \f2 full_name\f0, \f2 phone\f0, \f2 email\f0, \f2 reset_token\f0, \f2 reset_token_expiry\f0. El campo \f2 reset_token\f0 se usa exclusivamente para el proceso de recuperaci\'f3n de contrase\'f1a por correo.\par

\b Tabla: products\par\b0
El cat\'e1logo de inventario. Columnas clave: \f2 id\f0, \f2 name\f0, \f2 reference\f0 (c\'f3digo \'fanico del producto), \f2 purchase_price\f0 (costo de adquisici\'f3n, CONFIDENCIAL), \f2 retail_price\f0 (precio detal), \f2 wholesale_price\f0 (precio mayorista), \f2 quantity\f0 (stock actual), \f2 category\f0. La relaci\'f3n entre \f2 purchase_price\f0 y los precios de venta define el margen de utilidad de cada referencia.\par

\b Tabla: sales\par\b0
Encabezado de cada factura. Columnas clave: \f2 id\f0, \f2 invoice_number\f0 (n\'famero consecutivo de factura), \f2 total\f0, \f2 payment_method\f0, \f2 sale_type\f0 ('retail', 'wholesale', 'mixed'), \f2 delivery_cost\f0, \f2 warranty_increment\f0, \f2 status\f0 ('completed', 'pending', 'cancelled'), \f2 customer_name\f0, \f2 customer_id\f0, \f2 customer_phone\f0, \f2 user\f0 (qui\'e9n lo vendi\'f3), \f2 date\f0.\par

\b Tabla: sale_items\par\b0
Detalle de cada producto en una factura. Esta tabla tiene una llave for\'e1nea (\f2 sale_id\f0 ) que la relaciona con la tabla \f2 sales\f0. Columnas: \f2 id\f0, \f2 sale_id\f0, \f2 product_id\f0, \f2 product_name\f0, \f2 quantity\f0, \f2 unit_price\f0, \f2 purchase_price\f0 (snapshot del costo al momento de la venta), \f2 subtotal\f0.\par

\b Tabla: expenses\par\b0
Registro de todos los gastos operativos. Columnas: \f2 id\f0, \f2 description\f0, \f2 amount\f0, \f2 date\f0, \f2 user\f0, \f2 type\f0 (puede ser 'manual' para gastos registrados directamente o 'free_shipping' para los generados autom\'e1ticamente por el sistema).\par

\b Tabla: warranties\par\b0
Registra cada reclamaci\'f3n de garant\'eda. Columnas: \f2 id\f0, \f2 original_sale_id\f0 (la venta original), \f2 customer_name\f0, \f2 product_name\f0, \f2 new_product_id\f0 (el producto de reemplazo), \f2 warranty_reason\f0, \f2 additional_value\f0 (valor extra cobrado al cliente), \f2 shipping_value\f0 (costo de env\'edo asumido por el negocio), \f2 status\f0 ('pending', 'in_process', 'completed').\par

\b Tabla: restocks\par\b0
Registra cada entrada de nueva mercanc\'eda al inventario. Columnas: \f2 id\f0, \f2 product_id\f0, \f2 product_name\f0, \f2 quantity_added\f0, \f2 total_value\f0, \f2 date\f0, \f2 user\f0.\par

\page

\pard\ql\sb200\sa200\b\f0\fs32\cf1 10. FUNCIONALIDADES IMPLEMENTADAS\par
\pard\ql\sb100\sa200\fs22\cf3\b0

\b 10.1. Autenticaci\'f3n y Control de Acceso Basado en Roles (RBAC):\par\b0
El sistema implementa dos roles: \b Administrador\b0 y \b Trabajador\b0. La interfaz se adapta din\'e1micamente al rol del usuario autenticado. Los trabajadores no pueden eliminar ventas, acceder al panel de inversiones, ver costos de compra de productos o gestionar cuentas de usuario. Esta restricci\'f3n existe tanto a nivel de interfaz (los botones no se muestran) como a nivel de API (el servidor rechaza las solicitudes si la sesi\'f3n no tiene el rol apropiado).\par

\b 10.2. Punto de Venta (POS) Integrado:\par\b0
El m\'f3dulo de ventas funciona como un sistema de punto de venta completo. Permite agregar m\'faltiples productos a un carrito, aplicar descuentos porcentuales o en valor fijo, seleccionar el canal de venta (detal/mayorista), ingresar datos del cliente para domicilio y escoger entre m\'faltiples m\'e9todos de pago (efectivo, transferencia, tarjeta, cr\'e9dito, mixto).\par

\b 10.3. Facturaci\'f3n Digital Autom\'e1tica:\par\b0
Al completar cada venta, el sistema genera autom\'e1ticamente una factura con numeraci\'f3n consecutiva. La factura incluye el logo de la empresa, tabla de productos, informaci\'f3n del cliente, m\'e9todo de pago, t\'e9rminos de garant\'eda y datos de contacto. El vendedor puede imprimirla o cerrarla directamente.\par

\b 10.4. Panel de Inteligencia Financiera:\par\b0
El panel principal muestra tarjetas de resumen con: Total Vendido, Total Gastos, Costo de Inventario, Costos de Env\'edo (Garant\'edas) y Ganancia Real. Cada tarjeta es interactiva y al hacer clic muestra el detalle completo de cada concepto. Adem\'e1s, el historial permite filtrar por mes y a\'f1o espec\'edfico.\par

\b 10.5. Sistema de Garant\'edas Inteligente:\par\b0
Permite procesar garant\'edas de 5 tipos: rayaduras, pelado, oxidaci\'f3n, cambio de color y otros problemas. Al registrar una garant\'eda, el sistema calcula autom\'e1ticamente si hay diferencia de precio y permite al administrador marcar el estado (pendiente, en proceso, completada).\par

\b 10.6. Efectos de Experiencia Usuario (UX Premium):\par\b0
Destelode Oro 18K implementa efectos visuales de primera clase: destellos dorados de c\'e9lebraci\'f3n al completar ventas, un avi\'f3n publicitario animado que cruzaa la pantalla a intervalos, un reloj anal\'f3gico y digital interactivo en la barra de navegaci\'f3n y retroalimentaci\'f3n sonora (ton musicales) para \'e9xito y error.\par

\page

\pard\ql\sb200\sa200\b\f0\fs32\cf1 11. IMPACTO DEL PROYECTO EN EL EMPRENDIMIENTO\par
\pard\ql\sb100\sa200\fs22\cf3\b0

Desde la implementaci\'f3n del sistema, el emprendimiento ha experimentado mejoras concretas:\par

\b 11.1. Reducci\'f3n de Errores Operativos:\b0 Los errores de conteo de inventario se eliminaron pr\'e1cticamente al 100%, ya que cada venta descuenta autom\'e1ticamente las unidades del stock en tiempo real.\par

\b 11.2. Visibilidad Financiera:\b0 Por primera vez, el administrador tiene acceso a su margen de utilidad real en cualquier momento, sin necesidad de esperar al cierre del mes o contratar un contador para tabularlo.\par

\b 11.3. Profesionalizaci\'f3n del Servicio:\b0 La factura digital y el sistema de garant\'edas formal han mejorado la percepci\'f3n de la marca por parte de los clientes, diferenci\'e1ndola de la competencia informal.\par

\b 11.4. Escalabilidad:\b0 El sistema fue dise\'f1ado para crecer. En el futuro, se pueden agregar m\'f3dulos de e-commerce (tienda en l\'ednea), CRM (gesti\'f3n de clientes), y reportes de an\'e1lisis predictivo sin necesidad de redise\'f1ar la arquitectura.\par

\b 11.5. Propiedad Intelectual:\b0 El software es propiedad del emprendimiento, por lo que no hay costos recurrentes de licencia. Esto representa un ahorro significativo frente a las alternativas de software ERP comerciales del mercado.\par

\page

\pard\ql\sb200\sa200\b\f0\fs32\cf1 12. CONCLUSIONES Y RECOMENDACIONES\par
\pard\ql\sb100\sa200\fs22\cf3\b0

\b 12.1. Conclusiones Generales:\par\b0
El proyecto de desarrollo del sistema "Destello de Oro 18K" ha demostrado que la tecnolog\'eda no es un privilegio exclusivo de las grandes corporaciones. Un emprendimiento de mediana escala puede implementar herramientas de gesti\'f3n empresarial de nivel profesional a costos accesibles, siempre que cuente con el talento humano adecuado para concebir y ejecutar la soluci\'f3n.\par
La modalidad de emprendimiento tecnol\'f3gico ha permitido aplicar de forma integral los conocimientos adquiridos durante la formaci\'f3n acad\'e9mica: dise\'f1o de bases de datos, programaci\'f3n en PHP y JavaScript, arquitectura de software, UI/UX design y seguridad web. El resultado es una soluci\'f3n funcional, est\'e9ticamente superior y con alto impacto real en la operaci\'f3n del negocio.\par

\b 12.2. Conclusiones T\'e9cnicas:\par\b0
La arquitectura SPA con PHP RESTful probó ser la elecci\'f3n correcta para las necesidades del proyecto. La velocidad de respuesta de la aplicaci\'f3n y la facilidad de mantenimiento del c\'f3digo, organizado en microservicios independientes, facilitar\'e1n la incorporaci\'f3n de nuevas funcionalidades en el futuro. La implementaci\'f3n de PDO y sentencias preparadas garantiza que el sistema est\'e9 protegido contra las vulnerabilidades m\'e1s comunes del desarrollo web.\par

\b 12.3. Recomendaciones:\par\b0
1. Realizar backups autom\'e1ticos diarios de la base de datos MySQL.\par
2. Implementar HTTPS (SSL/TLS) en el servidor de hospedaje para cifrar la comunicaci\'f3n.\par
3. Considerar en una siguiente fase la integraci\'f3n con una pasarela de pago (PSE, Wompi) para facilitar las ventas en l\'ednea.\par
4. Establecer un protocolo de capacitaci\'f3n para nuevos empleados que asegure el uso correcto de todas las funcionalidades del sistema.\par
\par\par\par
\pard\qc\b\fs28\cf2 --- FIN DEL DOCUMENTO OFICIAL ---\par
\fs22\cf3 Sistema de Gesti\'f3n "Destello de Oro 18K" | Versi\'f3n 2.0 | Febrero 2026\par
}
